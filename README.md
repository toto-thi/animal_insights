## Animal Insights

A comprehensive data analysis project for animal conservation, trade patterns, and biodiversity research.

## Project Overview

This repository contains a complete data pipeline for analyzing animal conservation status, international trade patterns, and biodiversity publication data. The project is organized into two main components as git submodules:

- `preparing_data`: Scripts for parsing and loading source data into DuckDB

- `dbt_animal_insights`: Data transformation models built with dbt

## Repository Structure

```bash
animal_insights/
├── preparing_data/           # Data preparation submodule
│   ├── data/                 # Raw data files 
│   ├── scripts/              # Python scripts for data processing
│   ├── animal_insights.duckdb # DuckDB database file
│   └── README.md             # Documentation for data preparation
│
└── dbt_animal_insights/      # DBT project submodule
    ├── models/               # DBT transformation models
    ├── snapshots/            # Tracks changes in data over time
    ├── dbt_project.yml       # DBT project configuration
    └── README.md             # Documentation for DBT transformations
```

## Data Sources
This project analyzes data from three primary sources:

- [IUCN Red List](https://api.iucnredlist.org/api/v4/green_status/all): Conservation status assessments for various species, including metrics like species recovery scores, conservation legacy categories, and recovery potential.

- [CITES Trade Database](https://trade.cites.org/): International wildlife trade records showing import/export patterns, species involved, and trade volumes.

- [GBIF (Global Biodiversity Information Facility)](https://www.gbif.org/dataset/d7dddbf4-2cf0-4f39-9b2a-bb099caae36c): Biodiversity publication metadata providing insights into research activity around various species.

**Note**: IUCN is an API, you can login and use API Token generated by them [here](https://api.iucnredlist.org/)

## Getting Started
Install required dependencies:
```bash
pip install pandas duckdb dbt-core dbt-duckdb
```

**Note**: If you work on this repository, you can skip the installation part for each sub repositories.
### Clone the Repository

Clone this repository with its submodules:
```bash
git clone --recurse-submodules https://github.com/toto-thi/animal_insights.git
```

### Setup and Workflow
1. Data Preparation
    ```bash
    cd preparing_data
    chmod +x process_data.sh
    ./process_data.sh
    ```

2. Data Transformation
    ```bash
    cd dbt_animal_insights
    chmod +x run_dbt.sh
    ./run_dbt.sh
    ```

## Key Features

- Data Integration: Combines data from multiple conservation and biodiversity sources

- Transformation Pipeline: Structured ETL workflow from raw data to analytical models

- Version Control: Git submodules for managing component repositories

- Documentation: Comprehensive documentation for each component

- Testing: Data quality tests to ensure reliable analytics